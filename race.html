<html>

<head>
    <title>PG2_lab1_2_no_points</title>
    <meta name="author" content="Paweł Jędrzejczyk">
    <!-- <style>
        canvas {
            margin: auto;
            display: block;
        }
    </style> -->
</head>

<body>
<canvas id="myCanvas" width="800" height="600">
    Your browser does not support the canvas tag.
</canvas>
<script>
    let canvas = document.getElementById("myCanvas");
    let ctx = canvas.getContext("2d");
    //
    class Car {
        width;
        height;
        X;
        Y;
        constructor() {
            this.width = 40;
            this.height = 80;
            this.X = canvas.width/2 - 10
            this.Y = canvas.height - 100
            // this.wheels = new Array();
            this.drawCar()

        }
        drawCar() {
            ctx.fillStyle = 'pink';
            ctx.fillRect(this.X, this.Y, this.width, this.height);
            this.drawWheels()
            // this.rotateCar()
        }
        drawWheels(){
            ctx.fillStyle = 'black';
            ctx.fillRect(this.X-3, this.Y+5, 8, 15);
            ctx.fillRect(this.X-3, this.Y+this.height-15-5, 8, 15);
            ctx.fillRect(this.X+this.width-5, this.Y+5, 8, 15);
            ctx.fillRect(this.X+this.width-5, this.Y+this.height-15-5, 8, 15);

        }
        rotateCar(direction){
            this.clearCar()
            ctx.translate((this.X+this.width/2), (this.Y+this.height/2))
            if (direction === 'left')
            {ctx.rotate(-0.1);}
            else if (direction === 'right')
           { ctx.rotate(0.1)};
            ctx.translate(-(this.X+this.width/2), -(this.Y+this.height/2))

            this.drawCar()
        }
        clearCar()
        {
            ctx.fillStyle = 'white';
            ctx.fillRect(this.X-3, this.Y+5, 8, 15);
            ctx.fillRect(this.X-3, this.Y+this.height-15-5, 8, 15);
            ctx.fillRect(this.X+this.width-5, this.Y+5, 8, 15);
            ctx.fillRect(this.X+this.width-5, this.Y+this.height-15-5, 8, 15);
            ctx.fillRect(this.X, this.Y, this.width, this.height);
        }
    }

    class Road{
        leftCurb;
        rightCurb;
        constructor() {
            this.drawRoad();
        }
        drawRoad(){
            ctx.beginPath();
            ctx.moveTo(canvas.width/9*3 ,canvas.height);
            ctx.lineTo(canvas.width/9*3, 0);
            ctx.lineTo(canvas.width/9*6,0);
            ctx.lineTo(canvas.width/9*6,canvas.height);
            ctx.closePath();
            ctx.fillStyle = 'grey';
            ctx.fill();
            car.drawCar()
        }
    }
    class RoadLeft{
        constructor() {
            this.drawRoad();
        }
        drawRoad(){
            ctx.beginPath();
            // ctx.moveTo(canvas.width/9*3 ,canvas.height);
            ctx.arc(-1000, canvas.height,canvas.width/3 + 1000,0, 90);
            ctx.lineTo(-1000,canvas.width/3 + 1000,canvas.height);
            ctx.arc(-1000, canvas.height,canvas.width/3 + 1000 + canvas.width/3,0, 90, true);

            ctx.closePath();
            ctx.fillStyle = 'grey';
            ctx.fill();
            car.drawCar()
        }
    }
    class RoadRight{
        constructor() {
            this.drawRoad();
        }
        drawRoad(){
            ctx.beginPath();
            // ctx.moveTo(canvas.width/9*3 ,canvas.height);
            ctx.arc(1000+ canvas.width, canvas.height,canvas.width/3 + 1000,180, 90, true);
            ctx.lineTo(1000+ canvas.width,canvas.width/3 + 1000,canvas.height);
            ctx.arc(1000+ canvas.width, canvas.height,canvas.width/3*2 + 1000,90, 180);

            ctx.closePath();
            ctx.fillStyle = 'grey';
            ctx.fill();

            ctx.beginPath();
            ctx.lineWidth = 10
            ctx.strokeStyle = 'white'
            ctx.setLineDash([50, 50]);
            ctx.beginPath();
            ctx.arc(1000+ canvas.width, canvas.height,canvas.width/2 + 1000,180, 90, true);
            // ctx.arc(1000+ canvas.width, canvas.height,canvas.width/2 + 1000,185, 91, true);
            ctx.closePath();
            ctx.stroke();
            ctx.rotate(0)

            car.drawCar()
        }
    }

    let car = new Car;
    car.rotateCar('left');


    // // let road = new Road();
    // let right = new RoadRight()
    // let left = new RoadLeft()




</script>

</body>

</html>
